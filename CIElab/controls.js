var l_value_slider=document.getElementById("l_value_slider"),l_value_label=document.getElementById("l_value_label"),weight_slider=document.getElementById("weight_slider"),weight_label=document.getElementById("weight_label");function set_l_to_current_point(e){l_value_slider.value=e,l_value=e,load_l_value_image(e)}select_point_list.oninput=function(){point_list[select_point_list.selectedIndex].lab[0]==l_value?(remove_previous_selected(),selected_point_index=select_point_list.selectedIndex,draw_selected_point()):(set_l_to_current_point(point_list[select_point_list.selectedIndex].lab[0]),selected_point_index=select_point_list.selectedIndex,draw_points()),draw_color_pattern()},weight_slider.oninput=function(){var e=parseInt(weight_slider.value)/100;weight_label.innerHTML="W:&nbsp"+e,CIElab_A_WEIGHT=e,CIElab_B_WEIGHT=e,draw_graph()},l_value_slider.oninput=function(){if(selected_point_index>-1){l_value=parseInt(l_value_slider.value);var e=JSON.parse(JSON.stringify(point_list[selected_point_index]));point_list[selected_point_index].lab[0]=l_value,point_list[selected_point_index].rgb=labTOrgb(point_list[selected_point_index].lab),isValidRGB(point_list[selected_point_index].rgb)?(load_l_value_image(l_value),select_point_list[selected_point_index].innerHTML="&nbspL:"+point_list[selected_point_index].lab[0].toFixed(1)+",&nbsp&nbsp R:"+point_list[selected_point_index].rgb[0].toFixed(3)+",&nbsp&nbsp G:"+point_list[selected_point_index].rgb[1].toFixed(3)+",&nbsp&nbsp B:"+point_list[selected_point_index].rgb[2].toFixed(3)+"&nbsp&nbsp",draw_graph()):(point_list[selected_point_index]=e,l_value=e.lab[0],l_value_slider.value=l_value)}else l_value=parseInt(l_value_slider.value),load_l_value_image(l_value)},load_l_value_image=function(e){var l=new Image;l.src="img/"+e+".0.png",l.onload=function(){c_bg.drawImage(l,0,0,canvas_bg.width,canvas_bg.height)},l_value_label.innerHTML="L:&nbsp;"+l_value_slider.value},load_l_value_image(l_value);
