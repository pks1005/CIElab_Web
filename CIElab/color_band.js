var color_band_canvas=document.getElementById("band"),color_band_context=color_band_canvas.getContext("2d");color_band_canvas.width=550,color_band_canvas.height=100,draw_color_pattern=function(){if(color_band_context.clearRect(0,0,color_band_canvas.width,color_band_canvas.height),point_list.length>0)if(draw_smooth)for(var t=Math.floor((color_band_canvas.width-margin_left)/(point_list.length-1)),n=0,o=0;n<point_list.length-1;n++){var a=point_list[n].rgb,e=point_list[n+1].rgb;for(o=0;o<t;o++){var _=JSON.parse(JSON.stringify(avg(a,t-o,e,o)));draw_rect(n*t+o+margin_left,0,1,color_band_canvas.height,"rgb("+Math.round(255*_[0])+", "+Math.round(255*_[1])+", "+Math.round(255*_[2])+")",color_band_context)}}else{var l=Math.floor((color_band_canvas.width-margin_left)/point_list.length);for(n=0,o=point_list.length;n<point_list.length;n++,o--)color_band_context.fillStyle="rgb("+Math.round(255*point_list[n].rgb[0])+", "+Math.round(255*point_list[n].rgb[1])+", "+Math.round(255*point_list[n].rgb[2])+")",color_band_context.fillRect(margin_left+l*n,0,l,color_band_canvas.height),n==selected_point_index&&(color_band_context.beginPath(),color_band_context.strokeStyle="white",color_band_context.fillStyle="white",color_band_context.arc(margin_left+l*n+l/2,color_band_canvas.height/2,select_point_radius,0,360),color_band_context.fill(),color_band_context.stroke(),color_band_context.closePath())}},color_band_canvas.addEventListener("click",function(t){var n=color_band_canvas.getBoundingClientRect(),o=t.clientX-n.left;selected_point_index=Math.ceil((o-margin_left)/Math.floor((color_band_canvas.width-margin_left)/point_list.length))-1,draw_color_pattern(),set_l_to_current_point(point_list[selected_point_index].lab[0]),select_point_list.selectedIndex=selected_point_index,draw_points()},!1),canvas.addEventListener("dbclick",function(t){},!1),canvas.addEventListener("mousedown",function(t){},!1),canvas.addEventListener("mouseup",function(t){},!1),graph_canvas.addEventListener("mousemove",function(t){},!1);
